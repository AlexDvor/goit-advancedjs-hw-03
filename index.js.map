{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["class Pixabay {\n  API_KEY = '22579303-973b9b71134c76d3c38c0933d';\n  URL_API = ' https://pixabay.com/api';\n\n  getSearchParams(query) {\n    return new URLSearchParams({\n      key: this.API_KEY,\n      q: query,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: 'true',\n    }).toString();\n  }\n\n  getPhotoByQuery(query) {\n    return fetch(`${this.URL_API}/?${this.getSearchParams(query)}`).then(\n      response => {\n        if (!response.ok) {\n          throw new Error(response.status);\n        }\n        return response.json();\n      }\n    );\n  }\n}\n\nexport const API_PixaBay = new Pixabay();\n","export const createImgCard = ({ webformatURL, largeImageURL, tags }) => {\n  return `<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=${largeImageURL}>\n    <img\n      class=\"gallery-image\"\n      src=${webformatURL}\n      data-source=${largeImageURL}\n      alt=${tags}\n    />\n  </a>\n</li>\n`;\n};\n","import SimpleLightbox from 'simplelightbox';\nimport { API_PixaBay } from './js/pixabay-api';\nimport { createImgCard } from './js/render-functions';\n\nconst refs = {\n  form: document.querySelector('.form'),\n  imgWrap: document.querySelector('.gallery'),\n};\n\nconst onSubmitBtn = e => {\n  e.preventDefault();\n  const form = e.target;\n  const formData = new FormData(form);\n  const searchField = formData.get('search-field');\n\n  API_PixaBay.getPhotoByQuery(searchField)\n    .then(data => {\n      const createGallery = data.hits.map(item => createImgCard(item)).join('');\n\n      refs.imgWrap.innerHTML = createGallery;\n      new SimpleLightbox('.gallery-link', {\n        captionsData: 'alt',\n        captionDelay: 250,\n        overlayOpacity: 0.9,\n      });\n    })\n    .catch(e => console.log(e));\n};\n\nrefs.form.addEventListener('submit', onSubmitBtn);\n"],"names":["Pixabay","__publicField","query","response","API_PixaBay","createImgCard","webformatURL","largeImageURL","tags","refs","onSubmitBtn","e","form","searchField","data","createGallery","item","SimpleLightbox"],"mappings":"05BAAA,MAAMA,CAAQ,CAAd,cACEC,EAAA,eAAU,sCACVA,EAAA,eAAU,4BAEV,gBAAgBC,EAAO,CACrB,OAAO,IAAI,gBAAgB,CACzB,IAAK,KAAK,QACV,EAAGA,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAClB,CAAK,EAAE,SAAQ,CACZ,CAED,gBAAgBA,EAAO,CACrB,OAAO,MAAM,GAAG,KAAK,OAAO,KAAK,KAAK,gBAAgBA,CAAK,CAAC,EAAE,EAAE,KAC9DC,GAAY,CACV,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACjB,CACP,CACG,CACH,CAEO,MAAMC,EAAc,IAAIJ,EC1BlBK,EAAgB,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,CAAI,IACxD;AAAA,iCACwBD,CAAa;AAAA;AAAA;AAAA,YAGlCD,CAAY;AAAA,oBACJC,CAAa;AAAA,YACrBC,CAAI;AAAA;AAAA;AAAA;AAAA,ECHVC,EAAO,CACX,KAAM,SAAS,cAAc,OAAO,EACpC,QAAS,SAAS,cAAc,UAAU,CAC5C,EAEMC,EAAcC,GAAK,CACvBA,EAAE,eAAc,EAChB,MAAMC,EAAOD,EAAE,OAETE,EADW,IAAI,SAASD,CAAI,EACL,IAAI,cAAc,EAE/CR,EAAY,gBAAgBS,CAAW,EACpC,KAAKC,GAAQ,CACZ,MAAMC,EAAgBD,EAAK,KAAK,IAAIE,GAAQX,EAAcW,CAAI,CAAC,EAAE,KAAK,EAAE,EAExEP,EAAK,QAAQ,UAAYM,EACzB,IAAIE,EAAe,gBAAiB,CAClC,aAAc,MACd,aAAc,IACd,eAAgB,EACxB,CAAO,CACP,CAAK,EACA,MAAMN,GAAK,QAAQ,IAAIA,CAAC,CAAC,CAC9B,EAEAF,EAAK,KAAK,iBAAiB,SAAUC,CAAW"}