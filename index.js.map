{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["class Pixabay {\n  API_KEY = '22579303-973b9b71134c76d3c38c0933d';\n  URL_API = ' https://pixabay.com/api';\n\n  getSearchParams(query) {\n    return new URLSearchParams({\n      key: this.API_KEY,\n      q: query,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: 'true',\n    }).toString();\n  }\n\n  getPhotoByQuery(query) {\n    return fetch(`${this.URL_API}/?${this.getSearchParams(query)}`).then(\n      response => {\n        if (!response.ok) {\n          throw new Error(response.status);\n        }\n        return response.json();\n      }\n    );\n  }\n}\n\nexport const API_PixaBay = new Pixabay();\n","export const createImgCard = ({\n  downloads = 0,\n  comments = 0,\n  likes = 0,\n  views = 0,\n  webformatURL,\n  largeImageURL,\n  tags,\n}) => {\n  return `<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=${largeImageURL}>\n    <img class=\"gallery-image\" src=${webformatURL} data-source=${largeImageURL} alt=${tags} />\n    <div class='wrapper-info'>\n      <div class='info'>\n        <p>Likes</p>\n        <p>${likes}</p>\n      </div>\n      <div class='info'>\n        <p>Views</p>\n        <p>${views}</p>\n      </div>\n      <div class='info'>\n        <p>Coments</p>\n        <p>${comments}</p>\n      </div>\n      <div class='info'>\n        <p>Downloads</p>\n        <p>${downloads}</p>\n      </div>\n    </div>\n  </a>\n</li>\n`;\n};\n","import SimpleLightbox from 'simplelightbox';\nimport { API_PixaBay } from './js/pixabay-api';\nimport { createImgCard } from './js/render-functions';\nimport iziToast from 'izitoast';\n\nconst refs = {\n  form: document.querySelector('.form'),\n  imgWrap: document.querySelector('.gallery'),\n  loader: document.querySelector('.loader'),\n};\n\nconst messageForUser = (ms, type) => {\n  if (type === 'error') {\n    iziToast.error({\n      message: ms,\n      position: 'topRight',\n    });\n  } else if (type === 'warning') {\n    iziToast.warning({\n      message: ms,\n      position: 'topRight',\n    });\n  } else {\n    iziToast.show({\n      message: ms,\n      position: 'topRight',\n    });\n  }\n};\n\nconst onSubmitBtn = e => {\n  e.preventDefault();\n  const form = e.target;\n  const formData = new FormData(form);\n  const searchField = formData.get('search-field').trim();\n\n  if (!searchField) {\n    messageForUser(\n      'The search field is empty. Please enter text to search.',\n      'warning'\n    );\n    return;\n  }\n\n  refs.loader.classList.add('is-loaded');\n\n  API_PixaBay.getPhotoByQuery(searchField)\n    .then(data => {\n      if (!data.hits?.length) {\n        messageForUser(\n          'Sorry, there are no images matching your search query. Please try again!',\n          'error'\n        );\n      }\n      console.log(data.hits);\n      const createGallery = data.hits.map(item => createImgCard(item)).join('');\n\n      refs.imgWrap.innerHTML = createGallery;\n      new SimpleLightbox('.gallery-link', {\n        captionsData: 'alt',\n        captionDelay: 250,\n        overlayOpacity: 0.9,\n      });\n    })\n    .catch(e => console.log(e))\n    .finally(() => {\n      refs.loader.classList.remove('is-loaded');\n    });\n};\n\nrefs.form.addEventListener('submit', onSubmitBtn);\n"],"names":["Pixabay","__publicField","query","response","API_PixaBay","createImgCard","downloads","comments","likes","views","webformatURL","largeImageURL","tags","refs","messageForUser","ms","type","iziToast","onSubmitBtn","e","form","searchField","data","_a","createGallery","item","SimpleLightbox"],"mappings":"i6BAAA,MAAMA,CAAQ,CAAd,cACEC,EAAA,eAAU,sCACVA,EAAA,eAAU,4BAEV,gBAAgBC,EAAO,CACrB,OAAO,IAAI,gBAAgB,CACzB,IAAK,KAAK,QACV,EAAGA,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAClB,CAAK,EAAE,SAAQ,CACZ,CAED,gBAAgBA,EAAO,CACrB,OAAO,MAAM,GAAG,KAAK,OAAO,KAAK,KAAK,gBAAgBA,CAAK,CAAC,EAAE,EAAE,KAC9DC,GAAY,CACV,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACjB,CACP,CACG,CACH,CAEO,MAAMC,EAAc,IAAIJ,EC1BlBK,EAAgB,CAAC,CAC5B,UAAAC,EAAY,EACZ,SAAAC,EAAW,EACX,MAAAC,EAAQ,EACR,MAAAC,EAAQ,EACR,aAAAC,EACA,cAAAC,EACA,KAAAC,CACF,IACS;AAAA,iCACwBD,CAAa;AAAA,qCACTD,CAAY,gBAAgBC,CAAa,QAAQC,CAAI;AAAA;AAAA;AAAA;AAAA,aAI7EJ,CAAK;AAAA;AAAA;AAAA;AAAA,aAILC,CAAK;AAAA;AAAA;AAAA;AAAA,aAILF,CAAQ;AAAA;AAAA;AAAA;AAAA,aAIRD,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,ECtBhBO,EAAO,CACX,KAAM,SAAS,cAAc,OAAO,EACpC,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEMC,EAAiB,CAACC,EAAIC,IAAS,CAC/BA,IAAS,QACXC,EAAS,MAAM,CACb,QAASF,EACT,SAAU,UAChB,CAAK,EACQC,IAAS,UAClBC,EAAS,QAAQ,CACf,QAASF,EACT,SAAU,UAChB,CAAK,EAEDE,EAAS,KAAK,CACZ,QAASF,EACT,SAAU,UAChB,CAAK,CAEL,EAEMG,EAAcC,GAAK,CACvBA,EAAE,eAAc,EAChB,MAAMC,EAAOD,EAAE,OAETE,EADW,IAAI,SAASD,CAAI,EACL,IAAI,cAAc,EAAE,KAAI,EAErD,GAAI,CAACC,EAAa,CAChBP,EACE,0DACA,SACN,EACI,MACD,CAEDD,EAAK,OAAO,UAAU,IAAI,WAAW,EAErCT,EAAY,gBAAgBiB,CAAW,EACpC,KAAKC,GAAQ,QACPC,EAAAD,EAAK,OAAL,MAAAC,EAAW,QACdT,EACE,2EACA,OACV,EAEM,QAAQ,IAAIQ,EAAK,IAAI,EACrB,MAAME,EAAgBF,EAAK,KAAK,IAAIG,GAAQpB,EAAcoB,CAAI,CAAC,EAAE,KAAK,EAAE,EAExEZ,EAAK,QAAQ,UAAYW,EACzB,IAAIE,EAAe,gBAAiB,CAClC,aAAc,MACd,aAAc,IACd,eAAgB,EACxB,CAAO,CACP,CAAK,EACA,MAAM,GAAK,QAAQ,IAAI,CAAC,CAAC,EACzB,QAAQ,IAAM,CACbb,EAAK,OAAO,UAAU,OAAO,WAAW,CAC9C,CAAK,CACL,EAEAA,EAAK,KAAK,iBAAiB,SAAUK,CAAW"}